schema: '2.0'
stages:
  download_data:
    cmd: python3 src/data/download_from_inat.py
    deps:
    - path: data/raw/monkeys.csv
      hash: md5
      md5: d8559465bb6bfe352b72339ba9ce434b
      size: 317525
      isexec: true
    - path: src/data/download_from_inat.py
      hash: md5
      md5: a18b67971998e82a6c20fe41d65cb088
      size: 659
    outs:
    - path: data/processed/images
      hash: md5
      md5: 5d7cb25b407d45f0a3fe328e662deeed.dir
      size: 229987683
      nfiles: 1610
  preprocess_data:
    cmd: python3 src/data/preprocess.py
    deps:
    - path: data/processed/images
      hash: md5
      md5: 5d7cb25b407d45f0a3fe328e662deeed.dir
      size: 229987683
      nfiles: 1610
    - path: src/data/preprocess.py
      hash: md5
      md5: 797f37131a4bf458052e33db275b7d6a
      size: 896
    outs:
    - path: data/processed/ready
      hash: md5
      md5: 9e96fddbae9af77274d8c20778b43937.dir
      size: 48868005
      nfiles: 1610
  train_model:
    cmd: python3 src/train.py --outs models/resnet18.pt
    deps:
    - path: data/processed/ready
      hash: md5
      md5: 9e96fddbae9af77274d8c20778b43937.dir
      size: 48868005
      nfiles: 1610
    - path: src/data/dataset.py
      hash: md5
      md5: 687737209ad43164f63939fee30399dd
      size: 800
    - path: src/models/resnet18.py
      hash: md5
      md5: 47e2082b07064afbba4f6ad29cfde463
      size: 304
    - path: src/train.py
      hash: md5
      md5: f919ddda59812d2c926eaa105b8953e1
      size: 2014
    params:
      params.yaml:
        train:
          epochs: 10
          lr: 0.0003
          batch_size: 32
    outs:
    - path: metrics.json
      hash: md5
      md5: 55f0c88c1627c1abab3bab1e2af31c8e
      size: 36
    - path: models/resnet18.pt
      hash: md5
      md5: 7fa1e3086674333fbd8370f025b6e4c0
      size: 44844875
